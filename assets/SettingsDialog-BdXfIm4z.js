import{j as e}from"./motion-B9zqmRxR.js";import{D as B,a as I,b as M,c as D,d as H}from"./dialog-B1h0AFpF.js";import{u as L,a as S,b as _,c as O,P as C,d as U,e as y,f as Q,B as k,F as W,g as q}from"./index-BfQLDlU7.js";import{r as l}from"./swiper-Cxw528CV.js";import"./vendor-DJG_os-6.js";function K(s){const n=l.useRef({value:s,previous:s});return l.useMemo(()=>(n.current.value!==s&&(n.current.previous=n.current.value,n.current.value=s),n.current.previous),[s])}function G(s){const[n,i]=l.useState(void 0);return L(()=>{if(s){i({width:s.offsetWidth,height:s.offsetHeight});const t=new ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;const c=r[0];let o,a;if("borderBoxSize"in c){const d=c.borderBoxSize,h=Array.isArray(d)?d[0]:d;o=h.inlineSize,a=h.blockSize}else o=s.offsetWidth,a=s.offsetHeight;i({width:o,height:a})});return t.observe(s,{box:"border-box"}),()=>t.unobserve(s)}else i(void 0)},[s]),n}var b="Switch",[J,ne]=O(b),[X,$]=J(b),F=l.forwardRef((s,n)=>{const{__scopeSwitch:i,name:t,checked:r,defaultChecked:c,required:o,disabled:a,value:d="on",onCheckedChange:h,form:m,...j}=s,[x,p]=l.useState(null),N=S(n,g=>p(g)),w=l.useRef(!1),v=x?m||!!x.closest("form"):!0,[f,E]=_({prop:r,defaultProp:c??!1,onChange:h,caller:b});return e.jsxs(X,{scope:i,checked:f,disabled:a,children:[e.jsx(C.button,{type:"button",role:"switch","aria-checked":f,"aria-required":o,"data-state":A(f),"data-disabled":a?"":void 0,disabled:a,value:d,...j,ref:N,onClick:U(s.onClick,g=>{E(R=>!R),v&&(w.current=g.isPropagationStopped(),w.current||g.stopPropagation())})}),v&&e.jsx(P,{control:x,bubbles:!w.current,name:t,value:d,checked:f,required:o,disabled:a,form:m,style:{transform:"translateX(-100%)"}})]})});F.displayName=b;var z="SwitchThumb",T=l.forwardRef((s,n)=>{const{__scopeSwitch:i,...t}=s,r=$(z,i);return e.jsx(C.span,{"data-state":A(r.checked),"data-disabled":r.disabled?"":void 0,...t,ref:n})});T.displayName=z;var V="SwitchBubbleInput",P=l.forwardRef(({__scopeSwitch:s,control:n,checked:i,bubbles:t=!0,...r},c)=>{const o=l.useRef(null),a=S(o,c),d=K(i),h=G(n);return l.useEffect(()=>{const m=o.current;if(!m)return;const j=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(j,"checked").set;if(d!==i&&p){const N=new Event("click",{bubbles:t});p.call(m,i),m.dispatchEvent(N)}},[d,i,t]),e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i,...r,tabIndex:-1,ref:a,style:{...r.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});P.displayName=V;function A(s){return s?"checked":"unchecked"}var Y=F,Z=T;function u({className:s,...n}){return e.jsx(Y,{"data-slot":"switch",className:y("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",s),...n,children:e.jsx(Z,{"data-slot":"switch-thumb",className:y("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}const ie=({open:s,onOpenChange:n,openAbout:i})=>{const{settings:t,updateSettings:r}=Q(),c=a=>{r({[a]:!t[a]})},o=a=>{r({countingMethod:a.target.value})};return e.jsx(B,{open:s,onOpenChange:n,children:e.jsxs(I,{className:"sm:max-w-[800px] sm:h-auto max-h-screen sm:max-h-none overflow-y-auto","aria-describedby":"settings-description",children:[e.jsx(M,{children:e.jsx(D,{children:"Pengaturan"})}),e.jsxs("div",{className:"space-y-4 py-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"font-medium text-lg",children:"Tampilan"}),e.jsxs("div",{className:"mb-2",children:[e.jsx("h4",{className:"text-sm font-medium mb-1.5",children:"Tema"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"radio",id:"theme-light",name:"theme",value:"light",checked:t.theme==="light",onChange:()=>r({theme:"light"}),className:"w-4 h-4 text-primary-600 focus:ring-primary-500"}),e.jsx("label",{htmlFor:"theme-light",className:"text-sm",children:"Terang"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"radio",id:"theme-dark",name:"theme",value:"dark",checked:t.theme==="dark",onChange:()=>r({theme:"dark"}),className:"w-4 h-4 text-primary-600 focus:ring-primary-500"}),e.jsx("label",{htmlFor:"theme-dark",className:"text-sm",children:"Gelap"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("label",{htmlFor:"show-translation",className:"text-sm",children:"Tampilkan Terjemahan"}),e.jsx(u,{id:"show-translation",checked:t.showTranslation,onCheckedChange:()=>c("showTranslation")})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("label",{htmlFor:"show-latin",className:"text-sm",children:"Tampilkan Latin"}),e.jsx(u,{id:"show-latin",checked:t.showLatin,onCheckedChange:()=>c("showLatin")})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("label",{htmlFor:"show-source",className:"text-sm",children:"Tampilkan Sumber"}),e.jsx(u,{id:"show-source",checked:t.showSource,onCheckedChange:()=>c("showSource")})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("label",{htmlFor:"show-swipe-indicator",className:"text-sm",children:"Tampilkan Petunjuk Swipe"}),e.jsx(u,{id:"show-swipe-indicator",checked:t.showSwipeIndicator,onCheckedChange:()=>c("showSwipeIndicator")})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"font-medium text-lg",children:"Metode Penghitung"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"radio",id:"marker",name:"counting-method",value:"marker",checked:t.countingMethod==="marker",onChange:o,className:"w-4 h-4 text-primary-600 focus:ring-primary-500"}),e.jsx("label",{htmlFor:"marker",className:"text-sm",children:"Tandai Selesai (Sekali Klik)"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"radio",id:"counter",name:"counting-method",value:"counter",checked:t.countingMethod==="counter",onChange:o,className:"w-4 h-4 text-primary-600 focus:ring-primary-500"}),e.jsx("label",{htmlFor:"counter",className:"text-sm",children:"Penghitung (Tambah/Kurang)"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"font-medium text-lg",children:"Font Arabic"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"font-size",className:"text-sm font-medium mb-1.5 block",children:"Ukuran Font"}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("input",{type:"range",id:"font-size",min:"20",max:"40",step:"1",value:t.arabicFontSize,onChange:a=>r({arabicFontSize:parseInt(a.target.value)}),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer dark:bg-gray-700"}),e.jsxs("span",{className:"text-sm font-medium w-12 text-center",children:[t.arabicFontSize,"px"]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 sm:grid-cols-6",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"radio",id:"font-amiri",name:"arabic-font",value:"Amiri Quran",checked:t.arabicFont==="Amiri Quran",onChange:a=>r({arabicFont:a.target.value}),className:"w-4 h-4 text-primary-600 focus:ring-primary-500"}),e.jsx("label",{htmlFor:"font-amiri",className:"text-sm",children:"Amiri Quran"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"radio",id:"font-scheherazade",name:"arabic-font",value:"Scheherazade New",checked:t.arabicFont==="Scheherazade New",onChange:a=>r({arabicFont:a.target.value}),className:"w-4 h-4 text-primary-600 focus:ring-primary-500"}),e.jsx("label",{htmlFor:"font-scheherazade",className:"text-sm",children:"Scheherazade New"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"radio",id:"font-noto-naskh",name:"arabic-font",value:"Noto Naskh Arabic",checked:t.arabicFont==="Noto Naskh Arabic",onChange:a=>r({arabicFont:a.target.value}),className:"w-4 h-4 text-primary-600 focus:ring-primary-500"}),e.jsx("label",{htmlFor:"font-noto-naskh",className:"text-sm",children:"Noto Naskh Arabic"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"radio",id:"font-playpen-sans",name:"arabic-font",value:"Playpen Sans",checked:t.arabicFont==="Playpen Sans",onChange:a=>r({arabicFont:a.target.value}),className:"w-4 h-4 text-primary-600 focus:ring-primary-500"}),e.jsx("label",{htmlFor:"font-playpen-sans",className:"text-sm",children:"Playpen Sans"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"radio",id:"font-lateef",name:"arabic-font",value:"Lateef",checked:t.arabicFont==="Lateef",onChange:a=>r({arabicFont:a.target.value}),className:"w-4 h-4 text-primary-600 focus:ring-primary-500"}),e.jsx("label",{htmlFor:"font-lateef",className:"text-sm",children:"Lateef"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"radio",id:"font-harmattan",name:"arabic-font",value:"Harmattan",checked:t.arabicFont==="Harmattan",onChange:a=>r({arabicFont:a.target.value}),className:"w-4 h-4 text-primary-600 focus:ring-primary-500"}),e.jsx("label",{htmlFor:"font-harmattan",className:"text-sm",children:"Harmattan"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"font-medium text-lg",children:"Navigasi"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("label",{htmlFor:"auto-next",className:"text-sm",children:"Otomatis ke Dzikir Berikutnya"}),e.jsx(u,{id:"auto-next",checked:t.autoNext,onCheckedChange:()=>c("autoNext")})]})]})]})]}),e.jsxs(H,{className:"flex-col space-y-2 sm:space-y-0 sm:flex-row sm:space-x-2",children:[e.jsx(k,{variant:"outline",onClick:()=>{window.confirm("Apakah Anda yakin ingin mengembalikan pengaturan ke default?")&&r({theme:"light",showTranslation:!0,showLatin:!0,showSource:!0,arabicFont:"Noto Naskh Arabic",arabicFontSize:28,countingMethod:"marker"})},className:"w-full sm:w-auto",children:"Reset ke Default"}),e.jsxs(k,{variant:"outline",onClick:i,className:"w-full sm:w-auto",children:[e.jsx(W,{icon:q,className:"mr-2"}),"Tentang Aplikasi"]}),e.jsx(k,{onClick:()=>{try{localStorage.setItem("dzikirSettings",JSON.stringify(t))}catch(a){console.error("Error saving settings on dialog close:",a)}n(!1)},className:"w-full sm:w-auto",children:"Simpan"})]})]})})};export{ie as default};
